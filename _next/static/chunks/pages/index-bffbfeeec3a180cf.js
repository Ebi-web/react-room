(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2767:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return k}});var t=n(7294),a=n(9473),r=n(4456),i=n(6828),c=n(3457),d=n(2814),l=n(1436),o=n(5893),u=function(){return(0,o.jsxs)("header",{className:"p-5 bg-blue-300",children:[(0,o.jsx)("span",{className:"m-2",children:(0,o.jsx)(d.G,{icon:l.jMV})}),(0,o.jsx)("span",{className:"items-center select-none",children:"React ToDo test"})]})},h=n(4997);var m=function(){var e=(0,t.useState)(""),s=e[0],n=e[1],i=(0,t.useState)(""),c=i[0],u=i[1],m=(0,t.useState)(""),x=m[0],p=m[1],j=(0,a.v9)((function(e){return e.parentTaskId})),k=(0,a.I0)();return(0,o.jsxs)("div",{className:"border",children:[(0,o.jsx)("div",{children:(0,o.jsxs)("span",{className:"text-red-500",children:["**\u958b\u767a\u7528\u8868\u793a** \u89aa\u30bf\u30b9\u30afID: ",j.parentTaskId]})}),(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsxs)("div",{className:"m-5",children:[(0,o.jsx)("label",{htmlFor:"input-taskname",children:"\u65b0\u3057\u3044\u30bf\u30b9\u30af\u540d\uff1a"}),(0,o.jsx)("input",{type:"text",id:"input-taskname",value:s,className:" w-52 rounded-md",onChange:function(e){return n(e.target.value)}})]}),(0,o.jsxs)("div",{className:"m-5",children:[(0,o.jsx)("label",{htmlFor:"input-duedate",children:"\u7de0\u3081\u5207\u308a\uff1a"}),(0,o.jsx)("input",{type:"date",id:"input-duedate",value:c,className:"rounded-md",onChange:function(e){u(e.target.value)}})]}),(0,o.jsxs)("button",{type:"submit",className:"border-2 m-5 p-2 rounded-md shadow-md hover:shadow-none",onClick:function(){var e={taskId:(0,h.SK)(),parentTaskId:j.parentTaskId,taskName:s,dueDate:c},t=function(e){if(26!==e.taskId.length)return"\u30bf\u30b9\u30afID\u304c\u4e0d\u6b63\u3067\u3059";if(""===e.taskName)return"\u30bf\u30b9\u30af\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044";var s=new Date,n=new Date(e.dueDate);return isNaN(n.getDate())?"\u671f\u9650\u304c\u4e0d\u6b63\u3067\u3059":n.getTime()<s.getTime()?"\u7de0\u3081\u5207\u308a\u65e5\u306f\u672a\u6765\u306e\u65e5\u4ed8\u306b\u3057\u3066\u304f\u3060\u3055\u3044":""}(e);t?p(t):(k((0,r.gI)(e)),p(""),n(""))},children:[(0,o.jsx)("span",{className:"m-1",children:"\u8ffd\u52a0"}),(0,o.jsx)(d.G,{icon:l.r8p})]})]}),x?(0,o.jsx)("div",{className:"bg-red-200 m-1 p-1",children:x}):""]})},x=function(){var e=(0,a.I0)();return(0,o.jsxs)("button",{className:"border-2 m-5 p-2 hover:opacity-50",onClick:function(){return e((0,r.rp)())},children:[(0,o.jsx)("span",{children:"\u3059\u3079\u3066\u524a\u9664"}),(0,o.jsx)("span",{className:"m-1",children:(0,o.jsx)(d.G,{icon:l.Vui})})]})},p=function(e){var s=(0,t.useState)(!1),n=s[0],c=s[1],u=(0,a.v9)((function(e){return e.taskList})),h=(0,a.I0)();return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"border w-1/2 flex-col flex break-words mb-3 p-3 rounded-xl shadow-md cursor-pointer\thover:shadow-inner","data-testid":"task-".concat(e.task.taskId),children:[(0,o.jsx)("span",{className:"m-1 select-none hover:opacity-50",children:(0,o.jsx)(d.G,{icon:n?l.gc2:l.yOZ,onClick:function(){c(!n)}})}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-xl font-semibold",children:e.task.taskName}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"m-1 select-none hover:opacity-50",children:(0,o.jsx)(d.G,{icon:l.r8p,onClick:function(){h((0,i.dI)(e.task.taskId))}})}),(0,o.jsx)("span",{className:"m-1 select-none hover:opacity-50",children:(0,o.jsx)(d.G,{icon:l.Vui,onClick:function(){u.taskList.findIndex((function(s){return s.parentTaskId===e.task.taskId}))>=0?console.error("\u5c0f\u30bf\u30b9\u30af\u304c\u5b58\u5728\u3057\u307e\u3059"):h((0,r._5)(e.task.taskId))}})})]})]}),(0,o.jsxs)("p",{className:"font-light mt-2 text-xs",children:["\u7de0\u3081\u5207\u308a: ",e.task.dueDate]})]},e.task.taskId),n?(0,o.jsx)(j,{parentTaskId:e.task.taskId,depth:Number(e.depth)+1}):""]})},j=function(e){var s=(0,a.v9)((function(e){return e.taskList}));return(0,o.jsx)("ul",{className:"ml-4",children:s.taskList.filter((function(s){return s.parentTaskId===e.parentTaskId})).map((function(s){return(0,o.jsx)(p,{depth:e.depth,task:s},s.taskId)}))})},k=function(){var e=(0,a.I0)();return(0,t.useEffect)((function(){var s=(0,c.h)();e((0,r.hC)(s))}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u,{}),(0,o.jsx)("div",{children:(0,o.jsx)(m,{})}),(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("button",{className:"border-2 m-5 p-2 hover:opacity-50",onClick:function(){return e((0,i.dI)(null))},children:"\u30bf\u30b9\u30af\u8ffd\u52a0\u306e\u958b\u767a\u7528\uff1a\u89aa\u30bf\u30b9\u30afID\u306e\u30ea\u30bb\u30c3\u30c8"}),(0,o.jsx)("div",{children:(0,o.jsx)(x,{})})]}),(0,o.jsx)("div",{className:"ml-8",children:(0,o.jsx)(j,{parentTaskId:null,depth:0})})]})}},5301:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2767)}])}},function(e){e.O(0,[523,714,774,888,179],(function(){return s=5301,e(e.s=s);var s}));var s=e.O();_N_E=s}]);